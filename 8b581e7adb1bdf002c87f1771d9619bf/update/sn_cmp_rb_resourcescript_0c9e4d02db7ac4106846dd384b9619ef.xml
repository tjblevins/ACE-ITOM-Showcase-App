<?xml version="1.0" encoding="UTF-8"?><record_update table="sn_cmp_rb_resourcescript">
    <sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE">
        <name>Azure Microsoft Windows Server ARM Template</name>
        <resource display_value="Azure Microsoft Windows Server">c09e4d02db7ac4106846dd384b9619e6</resource>
        <script>{"$schema":"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#","contentVersion":"1.0.0.0","outputs":{"hostname":{"type":"string","value":"[reference(variables('publicIPAddressName')).dnsSettings.fqdn]"}},"parameters":{"adminPassword":{"metadata":{"description":"Password for the Virtual Machine."},"type":"securestring"},"adminUsername":{"metadata":{"description":"Username for the Virtual Machine."},"type":"string"},"dnsLabelPrefix":{"metadata":{"description":"Unique DNS Name for the Public IP used to access the Virtual Machine."},"type":"string"},"template_location":{"defaultValue":"[resourceGroup().location]","metadata":{"description":"Location for all resources."},"type":"string"},"vmSize":{"defaultValue":"Standard_A2_v2","metadata":{"description":"Size of the virtual machine."},"type":"string"},"windowsOSVersion":{"allowedValues":["2008-R2-SP1","2012-Datacenter","2012-R2-Datacenter","2016-Nano-Server","2016-Datacenter-with-Containers","2016-Datacenter","2019-Datacenter"],"defaultValue":"2016-Datacenter","metadata":{"description":"The Windows version for the VM. This will pick a fully patched image of this given Windows version."},"type":"string"}},"resources":[{"apiVersion":"2018-11-01","kind":"Storage","location":"[parameters('template_location')]","name":"[variables('storageAccountName')]","properties":{},"sku":{"name":"Standard_LRS"},"type":"Microsoft.Storage/storageAccounts"},{"apiVersion":"2018-11-01","location":"[parameters('template_location')]","name":"[variables('publicIPAddressName')]","properties":{"dnsSettings":{"domainNameLabel":"[parameters('dnsLabelPrefix')]"},"publicIPAllocationMethod":"Dynamic"},"type":"Microsoft.Network/publicIPAddresses"},{"apiVersion":"2019-08-01","comments":"Default Network Security Group for template","location":"[parameters('template_location')]","name":"[variables('networkSecurityGroupName')]","properties":{"securityRules":[{"name":"default-allow-3389","properties":{"access":"Allow","destinationAddressPrefix":"*","destinationPortRange":"3389","direction":"Inbound","priority":1000,"protocol":"Tcp","sourceAddressPrefix":"*","sourcePortRange":"*"}}]},"type":"Microsoft.Network/networkSecurityGroups"},{"apiVersion":"2018-11-01","dependsOn":["[resourceId('Microsoft.Network/networkSecurityGroups', variables('networkSecurityGroupName'))]"],"location":"[parameters('template_location')]","name":"[variables('virtualNetworkName')]","properties":{"addressSpace":{"addressPrefixes":["[variables('addressPrefix')]"]},"subnets":[{"name":"[variables('subnetName')]","properties":{"addressPrefix":"[variables('subnetPrefix')]","networkSecurityGroup":{"id":"[resourceId('Microsoft.Network/networkSecurityGroups', variables('networkSecurityGroupName'))]"}}}]},"type":"Microsoft.Network/virtualNetworks"},{"apiVersion":"2018-11-01","dependsOn":["[resourceId('Microsoft.Network/publicIPAddresses/', variables('publicIPAddressName'))]","[resourceId('Microsoft.Network/virtualNetworks/', variables('virtualNetworkName'))]"],"location":"[parameters('template_location')]","name":"[variables('nicName')]","properties":{"ipConfigurations":[{"name":"ipconfig1","properties":{"privateIPAllocationMethod":"Dynamic","publicIPAddress":{"id":"[resourceId('Microsoft.Network/publicIPAddresses',variables('publicIPAddressName'))]"},"subnet":{"id":"[variables('subnetRef')]"}}}]},"type":"Microsoft.Network/networkInterfaces"},{"apiVersion":"2018-10-01","dependsOn":["[resourceId('Microsoft.Storage/storageAccounts/', variables('storageAccountName'))]","[resourceId('Microsoft.Network/networkInterfaces/', variables('nicName'))]"],"location":"[parameters('template_location')]","name":"[variables('vmName')]","properties":{"diagnosticsProfile":{"bootDiagnostics":{"enabled":true,"storageUri":"[reference(resourceId('Microsoft.Storage/storageAccounts/', variables('storageAccountName'))).primaryEndpoints.blob]"}},"hardwareProfile":{"vmSize":"[parameters('vmSize')]"},"networkProfile":{"networkInterfaces":[{"id":"[resourceId('Microsoft.Network/networkInterfaces',variables('nicName'))]"}]},"osProfile":{"adminPassword":"[parameters('adminPassword')]","adminUsername":"[parameters('adminUsername')]","computerName":"[variables('vmName')]"},"storageProfile":{"dataDisks":[{"createOption":"Empty","diskSizeGB":1023,"lun":0}],"imageReference":{"offer":"WindowsServer","publisher":"MicrosoftWindowsServer","sku":"[parameters('windowsOSVersion')]","version":"latest"},"osDisk":{"createOption":"FromImage"}}},"type":"Microsoft.Compute/virtualMachines"}],"variables":{"addressPrefix":"10.0.0.0/16","networkSecurityGroupName":"default-NSG","nicName":"myVMNic","publicIPAddressName":"myPublicIP","storageAccountName":"[concat(uniquestring(resourceGroup().id), 'sawinvm')]","subnetName":"Subnet","subnetPrefix":"10.0.0.0/24","subnetRef":"[resourceId('Microsoft.Network/virtualNetworks/subnets', variables('virtualNetworkName'), variables('subnetName'))]","virtualNetworkName":"MyVNET","vmName":"SimpleWinVM"}}</script>
        <script_js/>
        <sys_class_name>sn_cmp_rb_resourcescript</sys_class_name>
        <sys_created_by>john.depot</sys_created_by>
        <sys_created_on>2020-02-07 14:42:13</sys_created_on>
        <sys_id>0c9e4d02db7ac4106846dd384b9619ef</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_name>Azure Microsoft Windows Server ARM Template</sys_name>
        <sys_package display_value="ACE-ITOM-Showcase" source="x_snc_itom_shocase">8b581e7adb1bdf002c87f1771d9619bf</sys_package>
        <sys_policy/>
        <sys_scope display_value="ACE-ITOM-Showcase">8b581e7adb1bdf002c87f1771d9619bf</sys_scope>
        <sys_update_name>sn_cmp_rb_resourcescript_0c9e4d02db7ac4106846dd384b9619ef</sys_update_name>
        <sys_updated_by>john.depot</sys_updated_by>
        <sys_updated_on>2020-02-07 14:42:13</sys_updated_on>
        <type>18</type>
    </sn_cmp_rb_resourcescript>
</record_update>
