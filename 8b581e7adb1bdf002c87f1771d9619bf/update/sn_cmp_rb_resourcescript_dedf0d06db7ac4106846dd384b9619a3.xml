<?xml version="1.0" encoding="UTF-8"?><record_update table="sn_cmp_rb_resourcescript">
    <sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE">
        <name>Azure Ubuntu Server ARM Template</name>
        <resource display_value="Azure Ubuntu Server">96df0d06db7ac4106846dd384b96199a</resource>
        <script>{"$schema":"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#","contentVersion":"1.0.0.0","outputs":{"adminUsername":{"type":"string","value":"[parameters('adminUsername')]"},"hostname":{"type":"string","value":"[reference(variables('publicIPAddressName')).dnsSettings.fqdn]"},"sshCommand":{"type":"string","value":"[concat('ssh ', parameters('adminUsername'), '@', reference(variables('publicIPAddressName')).dnsSettings.fqdn)]"}},"parameters":{"VmSize":{"defaultValue":"Standard_B2s","metadata":{"description":"The size of the VM"},"type":"string"},"adminPasswordOrKey":{"metadata":{"description":"SSH Key or password for the Virtual Machine. SSH key is recommended."},"type":"securestring"},"adminUsername":{"metadata":{"description":"Username for the Virtual Machine."},"type":"string"},"authenticationType":{"allowedValues":["sshPublicKey","password"],"defaultValue":"sshPublicKey","metadata":{"description":"Type of authentication to use on the Virtual Machine. SSH key is recommended."},"type":"string"},"dnsLabelPrefix":{"defaultValue":"[toLower(concat('simplelinuxvm-', uniqueString(resourceGroup().id)))]","metadata":{"description":"Unique DNS Name for the Public IP used to access the Virtual Machine."},"type":"string"},"networkSecurityGroupName":{"defaultValue":"SecGroupNet","metadata":{"description":"Name of the Network Security Group"},"type":"string"},"subnetName":{"defaultValue":"Subnet","metadata":{"description":"Name of the subnet in the virtual network"},"type":"string"},"template_location":{"defaultValue":"[resourceGroup().location]","metadata":{"description":"Location for all resources."},"type":"string"},"ubuntuOSVersion":{"allowedValues":["12.04.5-LTS","14.04.5-LTS","16.04.0-LTS","18.04-LTS"],"defaultValue":"18.04-LTS","metadata":{"description":"The Ubuntu version for the VM. This will pick a fully patched image of this given Ubuntu version."},"type":"string"},"virtualNetworkName":{"defaultValue":"vNet","metadata":{"description":"Name of the VNET"},"type":"string"},"vmName":{"defaultValue":"simpleLinuxVM","metadata":{"description":"The name of you Virtual Machine."},"type":"string"}},"resources":[{"apiVersion":"2018-10-01","dependsOn":["[resourceId('Microsoft.Network/networkSecurityGroups/', parameters('networkSecurityGroupName'))]","[resourceId('Microsoft.Network/virtualNetworks/', parameters('virtualNetworkName'))]","[resourceId('Microsoft.Network/publicIpAddresses/', variables('publicIpAddressName'))]"],"location":"[parameters('template_location')]","name":"[variables('networkInterfaceName')]","properties":{"ipConfigurations":[{"name":"ipconfig1","properties":{"privateIPAllocationMethod":"Dynamic","publicIpAddress":{"id":"[resourceId('Microsoft.Network/publicIPAddresses',variables('publicIPAddressName'))]"},"subnet":{"id":"[variables('subnetRef')]"}}}],"networkSecurityGroup":{"id":"[resourceId('Microsoft.Network/networkSecurityGroups',parameters('networkSecurityGroupName'))]"}},"type":"Microsoft.Network/networkInterfaces"},{"apiVersion":"2019-02-01","location":"[parameters('template_location')]","name":"[parameters('networkSecurityGroupName')]","properties":{"securityRules":[{"name":"SSH","properties":{"access":"Allow","destinationAddressPrefix":"*","destinationPortRange":"22","direction":"Inbound","priority":1000,"protocol":"TCP","sourceAddressPrefix":"*","sourcePortRange":"*"}}]},"type":"Microsoft.Network/networkSecurityGroups"},{"apiVersion":"2019-04-01","location":"[parameters('template_location')]","name":"[parameters('virtualNetworkName')]","properties":{"addressSpace":{"addressPrefixes":["[variables('addressPrefix')]"]},"subnets":[{"name":"[parameters('subnetName')]","properties":{"addressPrefix":"[variables('subnetAddressPrefix')]","privateEndpointNetworkPolicies":"Enabled","privateLinkServiceNetworkPolicies":"Enabled"}}]},"type":"Microsoft.Network/virtualNetworks"},{"apiVersion":"2019-02-01","location":"[parameters('template_location')]","name":"[variables('publicIpAddressName')]","properties":{"dnsSettings":{"domainNameLabel":"[parameters('dnsLabelPrefix')]"},"idleTimeoutInMinutes":4,"publicIPAddressVersion":"IPv4","publicIpAllocationMethod":"Dynamic"},"sku":{"name":"Basic","tier":"Regional"},"type":"Microsoft.Network/publicIpAddresses"},{"apiVersion":"2019-03-01","dependsOn":["[resourceId('Microsoft.Network/networkInterfaces/', variables('networkInterfaceName'))]"],"location":"[parameters('template_location')]","name":"[parameters('vmName')]","properties":{"hardwareProfile":{"vmSize":"[parameters('VmSize')]"},"networkProfile":{"networkInterfaces":[{"id":"[resourceId('Microsoft.Network/networkInterfaces', variables('networkInterfaceName'))]"}]},"osProfile":{"adminPassword":"[parameters('adminPasswordOrKey')]","adminUsername":"[parameters('adminUsername')]","computerName":"[parameters('vmName')]","linuxConfiguration":"[if(equals(parameters('authenticationType'), 'password'), json('null'), variables('linuxConfiguration'))]"},"storageProfile":{"imageReference":{"offer":"UbuntuServer","publisher":"Canonical","sku":"[parameters('ubuntuOSVersion')]","version":"latest"},"osDisk":{"createOption":"fromImage","managedDisk":{"storageAccountType":"[variables('osDiskType')]"}}}},"type":"Microsoft.Compute/virtualMachines"}],"variables":{"addressPrefix":"10.1.0.0/16","linuxConfiguration":{"disablePasswordAuthentication":true,"ssh":{"publicKeys":[{"keyData":"[parameters('adminPasswordOrKey')]","path":"[concat('/home/', parameters('adminUsername'), '/.ssh/authorized_keys')]"}]}},"networkInterfaceName":"[concat(parameters('vmName'),'NetInt')]","osDiskType":"Standard_LRS","publicIpAddressName":"[concat(parameters('vmName'), 'PublicIP' )]","subnetAddressPrefix":"10.1.0.0/24","subnetRef":"[resourceId('Microsoft.Network/virtualNetworks/subnets', parameters('virtualNetworkName'), parameters('subnetName'))]"}}</script>
        <script_js/>
        <sys_class_name>sn_cmp_rb_resourcescript</sys_class_name>
        <sys_created_by>john.depot</sys_created_by>
        <sys_created_on>2020-02-07 14:47:50</sys_created_on>
        <sys_id>dedf0d06db7ac4106846dd384b9619a3</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_name>Azure Ubuntu Server ARM Template</sys_name>
        <sys_package display_value="ACE-ITOM-Showcase" source="x_snc_itom_shocase">8b581e7adb1bdf002c87f1771d9619bf</sys_package>
        <sys_policy/>
        <sys_scope display_value="ACE-ITOM-Showcase">8b581e7adb1bdf002c87f1771d9619bf</sys_scope>
        <sys_update_name>sn_cmp_rb_resourcescript_dedf0d06db7ac4106846dd384b9619a3</sys_update_name>
        <sys_updated_by>john.depot</sys_updated_by>
        <sys_updated_on>2020-02-07 14:47:50</sys_updated_on>
        <type>18</type>
    </sn_cmp_rb_resourcescript>
</record_update>
